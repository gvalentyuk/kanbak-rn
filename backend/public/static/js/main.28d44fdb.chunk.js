(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(n,e,t){},45:function(n,e,t){"use strict";t.r(e);var r,a,o,c,i,s,u=t(0),l=t.n(u),d=t(23),b=t.n(d),p=(t(32),t(3)),j=t(13),x=Object(u.createContext)({isLogged:!1,login:function(n){},logout:function(){},user:{name:"",email:"",tasks:[],token:""}}),h=t(21),O=t(2),f=t(4),g=t.n(f),m=t(8),v=function(){var n=Object(u.useState)(!1),e=Object(O.a)(n,2),t=e[0],r=e[1],a=Object(u.useState)(null),o=Object(O.a)(a,2),c=o[0],i=o[1],s=Object(u.useRef)([]),l=Object(u.useCallback)(function(){var n=Object(m.a)(g.a.mark((function n(e){var t,a,o,c,u,l,d=arguments;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=d.length>1&&void 0!==d[1]?d[1]:"GET",a=d.length>2&&void 0!==d[2]?d[2]:{},o=d.length>3&&void 0!==d[3]?d[3]:null,r(!0),c=new AbortController,s.current.push(c),n.prev=6,n.next=9,fetch(e,{method:t,headers:a,body:o,signal:c.signal});case 9:return u=n.sent,n.next=12,u.json();case 12:if(l=n.sent,s.current=s.current.filter((function(n){return n!==c})),u.ok){n.next=16;break}throw new Error(l.message);case 16:return r(!1),n.abrupt("return",l);case 20:throw n.prev=20,n.t0=n.catch(6),i(n.t0.message),r(!1),n.t0;case 25:case"end":return n.stop()}}),n,null,[[6,20]])})));return function(e){return n.apply(this,arguments)}}(),[]);return Object(u.useEffect)((function(){return function(){s.current.forEach((function(n){return n.abort()}))}}),[]),{isLoading:t,error:c,sendRequest:l,clearError:function(){i(null)}}},S=t(10),k=t(11),w=k.a.li(a||(a=Object(S.a)(["\n  margin: 10px;\n  padding: 10px;\n  height: fit-content;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: 10px;\n  line-height: 1.5rem;\n  letter-spacing: 1px;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n\n  &:focus {\n    outline: none;\n    background-color: white;\n    color: black;\n  }\n\n  & span {\n    height: 100%;\n    background-color: red;\n    border-radius: 0.2rem;\n    font-size: 0.8rem;\n    padding: 2px;\n    cursor: pointer;\n  }\n\n  .options {\n    span:last-of-type {\n      margin-left: 0.8rem;\n    }\n  }\n"]))),T=function(n){var e="0".concat(n%60).slice(-2),t="".concat(Math.floor(n/60)),r="0".concat(t%60).slice(-2),a="0".concat(Math.floor(n/3600)).slice(-2);return"".concat(a," : ").concat(r," : ").concat(e)},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Object(u.useState)(n),t=Object(O.a)(e,2),r=t[0],a=t[1],o=Object(u.useState)(!1),c=Object(O.a)(o,2),i=c[0],s=c[1],l=Object(u.useState)(!1),d=Object(O.a)(l,2),b=d[0],p=d[1],j=Object(u.useRef)(null),x=function(){s(!0),p(!0),j.current=setInterval((function(){a((function(n){return n+1}))}),1e3)},h=function(){clearInterval(j.current),p(!1)};return{timer:r,isActive:i,isPaused:b,handleStart:x,handlePause:h}},E=t(1),C=function(n){return"todo"===n?"Start":"progress"===n?"Resolve":null},y=function(n){var e=n.text,t=n._id,r=n.status,a=n.cost,o=n.updateStatus,c=n.time,i=_("progress"===r?c:0),s=i.timer,l=i.handleStart,d=i.handlePause;return Object(u.useEffect)((function(){return l(),function(){d()}}),[l,d]),Object(E.jsxs)(w,{children:[e,Object(E.jsxs)("div",{className:"options",children:["done"===r&&a&&Object(E.jsxs)("span",{onClick:l,children:[" $",a.toFixed(2)]}),"progress"===r&&Object(E.jsx)("span",{onClick:l,children:T(s)}),Object(E.jsx)("span",{onClick:function(){o(function(n){return"todo"===n?"progress":"done"}(r),t,s)},children:C(r)})]})]})},D=k.a.li(o||(o=Object(S.a)(["\n  flex: 1;\n  width: 25%;\n  margin: 2rem 0.5rem;\n  position: relative;\n  background-color: rgba(0, 0, 0, 0.4);\n  border-radius: 10px;\n  overflow-x: hidden;\n  font-family: Quicksand, sans-serif;\n  background-color: #248224;\n\n  @media screen and (max-width: 900px) {\n    width: 95%;\n  }\n\n  .custom-scroll {\n    overflow-y: auto;\n    max-height: 75vh;\n  }\n\n  .custom-scroll::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.4);\n    border-radius: 10px;\n    background-color: rgba(255, 255, 255, 0.3);\n    margin-right: 5px;\n  }\n\n  .custom-scroll::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  .custom-scroll::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    background-color: rgba(0, 0, 0, 0.8);\n  }\n\n  .header {\n    display: flex;\n    justify-content: center;\n    border-radius: 10px;\n    margin: 10px;\n    height: 3.5rem;\n    align-items: center;\n  }\n\n  .header h1 {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: white;\n    letter-spacing: 2px;\n    text-shadow: 2px 2px 5px black;\n  }\n\n  .item-list {\n    padding: 0;\n    list-style-type: none;\n    min-height: 50px;\n  }\n\n\n\n  .add-btn-group {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .add-btn {\n    margin: 10px;\n    padding: 5px 10px;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    width: fit-content;\n    border-radius: 5px;\n    transition: all 0.3s ease-in;\n    user-select: none;\n    color: white;\n  }\n\n  .add-btn:hover {\n    background-color: rgba(255, 255, 255, 0.9);\n    color: black;\n  }\n\n  .add-btn:active {\n    transform: scale(0.97);\n  }\n\n  .solid {\n    display: flex;\n  }\n\n  .solid:hover {\n    transition: unset;\n    filter: brightness(95%);\n    color: white;\n  }\n\n  .plus-sign {\n    font-size: 1.5rem;\n    margin-right: 5px;\n    position: relative;\n    top: -3px;\n  }\n\n  .add-container {\n    margin: 10px;\n    padding: 5px 5px;\n    border-radius: 10px;\n    background-color: rgba(255, 255, 255, 0.9);\n    min-height: 100px;\n    \n    textarea {\n        width: 94%\n    }\n  }\n\n  .add-item {\n    width: 100%;\n    min-height: 100px;\n    height: auto;\n    background-color: white;\n    border-radius: 10px;\n    margin: 5px auto;\n    resize: none;\n    color: black;\n    padding: 10px;\n  }\n\n  .add-item:focus {\n    outline: none;\n  }\n\n  @media screen and (max-width: 1800px) {\n    .main-title {\n      font-size: 2rem;\n    }\n  }\n\n"]))),R=function(n){var e=n.tasks,t=n.title,r=n.sendTask,a=n.updateStatus,o=Object(u.useState)(!1),c=Object(O.a)(o,2),i=c[0],s=c[1],l=Object(u.useState)(""),d=Object(O.a)(l,2),b=d[0],p=d[1],j=function(){var n=Object(m.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s(!1),b&&r({text:b,status:t.toLowerCase()});case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(E.jsxs)(D,{props:t,children:[Object(E.jsx)("span",{className:"header",children:Object(E.jsx)("h1",{children:t})}),Object(E.jsx)("div",{className:"custom-scroll",children:Object(E.jsx)("ul",{className:"item-list",children:e.map((function(n){return Object(E.jsx)(y,{updateStatus:a,text:n.text,_id:n._id,status:n.status,time:n.time,cost:n.cost},n._id)}))})}),Object(E.jsxs)("div",{className:"add-btn-group",children:[!i&&Object(E.jsxs)("div",{className:"add-btn",onClick:function(){return s(!0)},children:[Object(E.jsx)("span",{className:"plus-sign",children:"+"}),Object(E.jsx)("span",{children:"Add item"})]}),i&&Object(E.jsx)("div",{className:"add-btn",children:Object(E.jsx)("span",{onClick:j,children:"Save Item"})})]}),i&&Object(E.jsx)("div",{className:"add-container",children:Object(E.jsx)("textarea",{value:b,onChange:function(n){return p(n.target.value)},className:"add-item"})})]})},N=k.a.ul(c||(c=Object(S.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n\n  display: flex;\n  align-items: flex-start;\n\n  .drag-container {\n    margin: 20px;\n  }\n\n  @media screen and (max-width: 900px) {\n    display: block;\n  }\n"]))),P=function(){var n=Object(u.useContext)(x),e=Object(u.useState)([]),t=Object(O.a)(e,2),r=t[0],a=t[1],o=v().sendRequest,c=function(){var e=Object(m.a)(g.a.mark((function e(t,r){var c,i,s=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>2&&void 0!==s[2]?s[2]:0,e.prev=1,e.next=4,o("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BACKEND_URI,"/tasks"),"PUT",{Authorization:"Bearer ".concat(n.user.token),"Content-Type":"application/json"},JSON.stringify({status:t,id:r,time:c}));case 4:i=e.sent,a(i.list),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}(),i=function(){var e=Object(m.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BACKEND_URI,"/tasks"),"POST",{Authorization:"Bearer ".concat(n.user.token),"Content-Type":"application/json"},JSON.stringify(t));case 3:r=e.sent,a(r.list),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){(function(){var e=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BACKEND_URI,"/tasks"),"GET",{Authorization:"Bearer ".concat(n.user.token)});case 3:t=e.sent,a(t.list),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[o,n.user.token]),Object(E.jsxs)(N,{children:[Object(E.jsx)(R,{updateStatus:c,sendTask:i,title:"ToDo",tasks:r.filter((function(n){return"todo"===n.status}))}),Object(E.jsx)(R,{updateStatus:c,sendTask:i,title:"Progress",tasks:r.filter((function(n){return"progress"===n.status}))}),Object(E.jsx)(R,{updateStatus:c,sendTask:i,title:"Done",tasks:r.filter((function(n){return"done"===n.status}))})]})},L=k.a.form(i||(i=Object(S.a)(["\n  margin: 5vh;\n  position: absolute;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 30%;\n  max-width: 900px;\n  padding: 20px 30px;\n  border-radius: 10px;\n  background-color: rgba(255, 255, 255, 0.4);\n  box-shadow: 0 10px 10px 10px rgba(0, 0, 0, 0.2);\n  font-family: Montserrat;\n  display: flex;\n  flex-direction: column;\n\n  h3 {\n    margin: 0 1em;\n    font-weight: 600;\n  }\n\n  a {\n    color: white;\n    font-size: 0.8rem;\n    text-align: center;\n  }\n\n  button {\n    margin-top: 1rem;\n    cursor: pointer;\n    font-size: 1rem;\n    border: none;\n    border-radius: 10px;\n    color: white;\n    background: #333;\n    outline: none;\n    padding: 0.7rem 1.8rem;\n    box-shadow: 0 0.3rem rgba(121, 121, 121, 0.65);\n  }\n\n  button:hover {\n    filter: brightness(110%);\n  }\n\n  button:active {\n    transform: translate(0, 0.3rem);\n    box-shadow: 0 0.1rem rgba(255, 255, 255, 0.65);\n  }\n\n  form p:last-of-type {\n    margin: -10px 0 10px 16px;\n  }\n"]))),A=k.a.div(s||(s=Object(S.a)(["\n  margin: 1em;\n  display: flex;\n  flex-direction: column;\n\n  & label {\n    margin-bottom: 0.5rem;\n  }\n\n  & input {\n    border: none;\n    outline: none;\n    line-height: 1.5rem;\n    font-size: 1.3rem;\n    background-color: rgba(255, 255, 255, 0.4);\n    box-shadow: 0 0 2px 2px rgba(0, 0, 0, 0.2);\n    font-family: Montserrat;\n  }\n"]))),I=function(){var n=Object(u.useContext)(x),e=v(),t=e.isLoading,r=e.sendRequest,a=Object(u.useState)(""),o=Object(O.a)(a,2),c=o[0],i=o[1],s=Object(u.useState)(""),l=Object(O.a)(s,2),d=l[0],b=l[1],p=function(){var e=Object(m.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BACKEND_URI,"/user/login"),"POST",{"Content-Type":"application/json"},JSON.stringify({email:c,password:d}));case 4:a=e.sent,n.login(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();return Object(E.jsxs)(L,{onSubmit:p,children:[Object(E.jsx)("h3",{children:"Login"}),Object(E.jsxs)(A,{children:[Object(E.jsx)("label",{children:"Email"}),Object(E.jsx)("input",{type:"text",onChange:function(n){return i(n.target.value)}})]}),Object(E.jsxs)(A,{children:[Object(E.jsx)("label",{children:"Password"}),Object(E.jsx)("input",{type:"password",onChange:function(n){return b(n.target.value)}})]}),Object(E.jsx)(j.b,{to:"/register",children:"I don't have an account"}),t?Object(E.jsx)("p",{children:"Loading"}):Object(E.jsx)("button",{children:"Login"})]})},K=function(){var n=Object(u.useContext)(x),e=v(),t=e.isLoading,r=e.error,a=e.sendRequest,o=Object(u.useState)(""),c=Object(O.a)(o,2),i=c[0],s=c[1],l=Object(u.useState)(""),d=Object(O.a)(l,2),b=d[0],p=d[1],h=Object(u.useState)(""),f=Object(O.a)(h,2),S=f[0],k=f[1],w=function(){var e=Object(m.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BACKEND_URI,"/user/registration"),"POST",{"Content-Type":"application/json"},JSON.stringify({email:i,password:b,name:S}));case 4:r=e.sent,n.login(r),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();return Object(E.jsxs)(L,{onSubmit:w,children:[Object(E.jsx)("h3",{children:"Registration"}),Object(E.jsxs)(A,{children:[Object(E.jsx)("label",{children:"Email"}),Object(E.jsx)("input",{type:"text",onChange:function(n){return s(n.target.value)}})]}),Object(E.jsxs)(A,{children:[Object(E.jsx)("label",{children:"Name"}),Object(E.jsx)("input",{type:"text",onChange:function(n){return k(n.target.value)}})]}),Object(E.jsxs)(A,{children:[Object(E.jsx)("label",{children:"Password"}),Object(E.jsx)("input",{type:"password",onChange:function(n){return p(n.target.value)}})]}),Object(E.jsx)(j.b,{to:"login",children:"I already have an account"}),r&&Object(E.jsx)("p",{children:r}),t?Object(E.jsx)("p",{children:"Loading"}):Object(E.jsx)("button",{children:"Registration"})]})},U=function(){var n,e=function(){var n=Object(u.useState)(!1),e=Object(O.a)(n,2),t=e[0],a=e[1],o=Object(u.useState)(),c=Object(O.a)(o,2),i=c[0],s=c[1],l=Object(u.useState)({name:"",token:"",id:"",email:"",tasks:[]}),d=Object(O.a)(l,2),b=d[0],p=d[1],j=Object(u.useCallback)((function(n,e){a(!0),p(n);var t=e||new Date((new Date).getTime()+36e5);s(t),localStorage.setItem("userData",JSON.stringify(Object(h.a)(Object(h.a)({},n),{},{expiration:t.toISOString()})))}),[]),x=Object(u.useCallback)((function(){a(!1),s(null),p({name:"",token:"",id:"",email:"",tasks:[]}),localStorage.removeItem("userData")}),[]);return Object(u.useEffect)((function(){if(b.token&&i){var n=i.getTime()-(new Date).getTime();r=setTimeout(x,n)}else clearTimeout(r)}),[x,b.token,i]),Object(u.useEffect)((function(){var n=JSON.parse(localStorage.getItem("userData")||"{}");n&&n.token&&new Date(n.expiration)>new Date&&j(n,new Date(n.expiration))}),[j]),{isLogged:t,login:j,logout:x,user:b}}(),t=e.isLogged,a=e.login,o=e.logout,c=e.user;return n=t?Object(E.jsxs)(p.d,{children:[Object(E.jsx)(p.b,{path:"/",exact:!0,component:P}),Object(E.jsx)(p.a,{to:"/"})]}):Object(E.jsxs)(p.d,{children:[Object(E.jsx)(p.b,{path:"/login",component:I}),Object(E.jsx)(p.b,{path:"/register",component:K}),Object(E.jsx)(p.a,{to:"/login"})]}),Object(E.jsx)(x.Provider,{value:{isLogged:t,login:a,logout:o,user:c},children:Object(E.jsx)(j.a,{children:n})})},B=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,46)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;t(n),r(n),a(n),o(n),c(n)}))};b.a.render(Object(E.jsx)(l.a.StrictMode,{children:Object(E.jsx)(U,{})}),document.getElementById("root")),B()}},[[45,1,2]]]);
//# sourceMappingURL=main.28d44fdb.chunk.js.map